---
layout: default
title: Galerie
subtitle: Alle Bilder aus unseren Reisen auf einen Blick
permalink: /gallery/
---

<article class="gallery-page">
  {% include page-header.html title=page.title subtitle=page.subtitle %}

  {% assign allowed_ext = 'jpg,jpeg,png,webp,avif' | split: ',' %}
  {% assign total_images = 0 %}
  {% assign day_pages = site.pages | where: 'layout', 'day' %}
  {% assign journey_keys = '' | split: '' %}
  {% assign countries_with_entries = '' | split: '' %}
  {% assign cities_with_entries = '' | split: '' %}

  {% for static in site.static_files %}
    {% assign file_path = static.path %}
    {% if file_path contains '/journeys/' and file_path contains '/tag-' %}
      {% assign ext = static.extname | remove_first: '.' | downcase %}
      {% if allowed_ext contains ext %}
        {% assign total_images = total_images | plus: 1 %}
      {% endif %}
    {% endif %}
  {% endfor %}

  {% for day_page in day_pages %}
    {% unless journey_keys contains day_page.journey %}
      {% assign journey_keys = journey_keys | push: day_page.journey %}
    {% endunless %}
    {% unless countries_with_entries contains day_page.country %}
      {% assign countries_with_entries = countries_with_entries | push: day_page.country %}
    {% endunless %}
    {% unless cities_with_entries contains day_page.city %}
      {% assign cities_with_entries = cities_with_entries | push: day_page.city %}
    {% endunless %}
  {% endfor %}

  {% if total_images > 0 %}
    <div class="gallery__stats">
      <div class="stat-item"><span class="stats-value">{{ total_images }}</span> {% include pluralize.html count=total_images one="Bild" other="Bilder" %}</div>
      <div class="stat-item"><span class="stats-value">{{ day_pages.size }}</span> {% include pluralize.html count=day_pages.size one="Tag" other="Tage" %}</div>
      <div class="stat-item"><span class="stats-value">{{ journey_keys.size }}</span> {% include pluralize.html count=journey_keys.size one="Reise" other="Reisen" %}</div>
      <div class="stat-item"><span class="stats-value">{{ countries_with_entries.size }}</span> {% include pluralize.html count=countries_with_entries.size one="Land" other="Länder" %}</div>
      <div class="stat-item"><span class="stats-value">{{ cities_with_entries.size }}</span> {% include pluralize.html count=cities_with_entries.size one="Stadt" other="Städte" %}</div>
    </div>

    <div class="filter-bar" data-filter-target="#gallery-collection">
      <div class="filter-bar__group" data-filter-group="journey">
        <label class="filter-bar__label" for="gallery-filter-journey">Reise</label>
        <select id="gallery-filter-journey" class="filter-bar__select" data-filter="journey">
          <option value="">Alle Reisen</option>
        </select>
      </div>
      <div class="filter-bar__group" data-filter-group="country">
        <label class="filter-bar__label" for="gallery-filter-country">Land</label>
        <select id="gallery-filter-country" class="filter-bar__select" data-filter="country">
          <option value="">Alle Länder</option>
        </select>
      </div>
      <div class="filter-bar__group" data-filter-group="city">
        <label class="filter-bar__label" for="gallery-filter-city">Stadt</label>
        <select id="gallery-filter-city" class="filter-bar__select" data-filter="city">
          <option value="">Alle Städte</option>
        </select>
      </div>
      <button class="filter-bar__reset" type="button" data-filter-reset hidden>Filter zurücksetzen</button>
    </div>

    <div id="gallery-collection">
      <p class="filter-empty" data-filter-empty hidden aria-live="polite">Keine Bilder für die aktuelle Auswahl.</p>
      {% include gallery.html scope='all' show_empty=false dom_id='gallery-grid' %}
    </div>
  {% else %}
    <p>Noch keine Bilder verfügbar.</p>
  {% endif %}
</article>
