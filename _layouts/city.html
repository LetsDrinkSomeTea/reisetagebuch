---
layout: default
---

<article class="city-page">
  {% include page-header.html %}

  <div class="page-content">
    {{ content }}
  </div>

  <section class="days-overview">
    <h2>Tagebucheinträge</h2>
    {% assign city_data = site.data.countries[page.country].cities[page.city] %}
    {% assign collected_days = '' | split: '' %}
    {% assign all_country_days = site.pages | where: "layout", "day" | where: "country", page.country %}
    {% for day_page in all_country_days %}
      {% assign day_cities = day_page.city | array %}
      {% if day_cities contains page.city %}
        {% assign collected_days = collected_days | push: day_page %}
      {% endif %}
    {% endfor %}
    {% assign day_pages = collected_days | sort: "date" | reverse %}

    {% if day_pages.size > 0 %}
      <div class="grid grid--days">
        {% for day_page in day_pages %}
          {% include card.html type="day" item=day_page %}
        {% endfor %}
      </div>
    {% else %}
      <p class="no-entries">Noch keine Tagebucheinträge für {{ city_data.name }} vorhanden.</p>
    {% endif %}
  </section>
  {% comment %} City Image Gallery {% endcomment %}
  {% include gallery.html scope="city" country=page.country city=page.city %}
</article>
