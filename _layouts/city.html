---
layout: default
---

<article class="city-page">
  <header class="page-header">
    <div class="breadcrumb">
      {% assign country_data = site.data.countries[page.country] %}
      {% assign city_data = country_data.cities[page.city] %}
      
      <a href="{{ '/' | relative_url }}">🏠</a>
      <span class="separator">›</span>
      <a href="{{ '/' | append: page.country | append: '/' | relative_url }}">
        {{ country_data.flag }} {{ country_data.name }}
      </a>
      <span class="separator">›</span>
      <span class="current">{{ city_data.emoji }} {{ city_data.name }}</span>
    </div>
  </header>

  <h1>{{city_data.emoji}} {{city_data.name}} <br> {{ page.title }}</h1>

  <div class="page-content">
    {{ content }}
  </div>

  <section class="days-overview">
    <h2>Tagebucheinträge</h2>
    
    {% assign country_pages = site.pages | where: "country", page.country | where: "city", page.city %}
    {% assign day_pages = country_pages | where: "layout", "day" | sort: "day" %}
    
    {% if day_pages.size > 0 %}
      <div class="days-grid">
        {% for day_page in day_pages %}
          <article class="day-card">
            <header class="day-card-header">
              <h3><a href="{{ day_page.url | relative_url }}">Tag {{ day_page.day }}</a></h3>
              <time datetime="{{ day_page.date | date: '%Y-%m-%d' }}">
                {{ day_page.date | date: '%d.%m.%Y' }}
              </time>
            </header>
            
            <div class="day-card-content">
              <h4>{{ day_page.title }}</h4>
              
              {% if day_page.excerpt %}
                <p>{{ day_page.excerpt | strip_html | truncate: 120 }}</p>
              {% endif %}
              
              {% if day_page.weather %}
                <span class="badge weather-badge">{{ day_page.weather }}</span>
              {% endif %}
            </div>
            
            <footer class="day-card-footer">
              <a href="{{ day_page.url | relative_url }}" class="read-more">Weiterlesen →</a>
            </footer>
          </article>
        {% endfor %}
      </div>
    {% else %}
      <p class="no-entries">Noch keine Tagebucheinträge für {{ city_data.name }} vorhanden.</p>
    {% endif %}
  </section>
  {% assign gallery_folder = page.country | append: '/' | append: page.city %}
  {% include city-image-gallery.html folder=gallery_folder country=page.country city=page.city %}
</article>
