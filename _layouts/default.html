<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'de' }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
  
  <title>{% if page.title %}{{ page.title | escape }} - {{ site.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
  
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">
  <link rel="alternate" type="application/rss+xml" title="{{ site.title | escape }}" href="{{ '/feed.xml' | relative_url }}">
  
  {% if jekyll.environment == 'production' and site.google_analytics %}
    {% include google-analytics.html %}
  {% endif %}
</head>

<body>
  <div class="site-wrapper">
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
      <div class="sidebar-header">
        <h1><a href="{{ '/' | relative_url }}">{{ site.title }}</a></h1>
        <p>{{ site.description }}</p>
      </div>
      
      {% include navigation.html %}
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <div class="content-wrapper">
        {{ content }}
      </div>
    </main>
  </div>

  <!-- Mobile menu toggle -->
  <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Navigation Ã¶ffnen">
    <span></span>
    <span></span>
    <span></span>
  </button>

  <script>
    // Mobile navigation toggle
    document.getElementById('mobileMenuToggle').addEventListener('click', function() {
      document.querySelector('.site-wrapper').classList.toggle('mobile-menu-open');
    });

    // Close mobile menu when clicking outside
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.sidebar') && !e.target.closest('.mobile-menu-toggle')) {
        document.querySelector('.site-wrapper').classList.remove('mobile-menu-open');
      }
    });

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  </script>
</body>
</html>